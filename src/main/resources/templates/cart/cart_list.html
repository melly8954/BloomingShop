<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>장바구니</title>
    <style>
        .container {
            display: flex; /* 가로로 나열 */
            flex-direction: row; /* 기본값이지만 명시적으로 설정 */
            height: 100vh; /* 화면 전체 높이를 사용 */
        }

        .cart-section {
            flex: 1; /* 좌측 영역 (50%) */
            padding: 20px;
            overflow-y: auto; /* 스크롤 활성화 */
            border-right: 1px solid #ddd; /* 좌우 구분선 */
        }

        .summary-section {
            flex: 1; /* 우측 영역 (50%) */
            padding: 20px;
            background-color: #f8f9fa; /* 연한 배경 */
        }

        .cart-item-img {
            width: 100%;
            height: 200px; /* 정사각형 모양으로 설정 */
            object-fit: cover;
        }

        .card {
            height: 350px; /* 카드 높이를 일정하게 설정 */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* 카드 내부 요소 간의 공간을 균등하게 배치 */
        }

        .card-body {
            flex-grow: 1; /* 카드 본문 영역이 flex-grow로 늘어나도록 설정 */
        }

        .card-title {
            font-size: 1.1rem;
        }

        .card-text {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .btn-group {
            width: 100%;
            justify-content: space-between;
        }
    </style>
</head>
<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/cart/cartList.js"></script>
<body>
{{> common/navbar }}
<div class="container">
    <!-- 장바구니 리스트 영역 -->
    <div class="cart-section" id="cart-section">
        <h2>장바구니</h2>
        <!-- 결제 요약 아래 저장 버튼 -->
        <button class="btn btn-primary" onclick="saveCart()">장바구니 저장</button><br>
        <div id="cart-items" class="row g-4">
            <!-- 장바구니 항목이 동적으로 추가됨 -->
        </div>
    </div>

    <!-- 결제 요약 및 계산 영역 -->
    <div class="summary-section">
        <h2>결제 요약</h2>
        <div id="order-summary">
            <!-- 계산 기록 동적으로 추가 -->
            <p>상품 총합: <span id="total-price">₩0</span></p>
            <p>배송비: <span id="shipping-price">₩3,000</span></p>
            <p><strong>총 결제 금액: <span id="final-price">₩0</span></strong></p>
        </div>
        <!-- 결제 진행 버튼 -->
        <button class="btn btn-success" onclick="checkout();">결제 진행</button>
    </div>
</div>
</body>
</html>
